<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Documentation - WuwaAPI</title>
    <meta name="description"
        content="Official documentation for WuwaAPI. Endpoints, parameters, and response examples.">
    <meta name="referrer" content="strict-origin-when-cross-origin">
    <meta http-equiv="Content-Security-Policy"
        content="default-src 'self'; base-uri 'self'; form-action 'none'; frame-ancestors 'none'; img-src 'self' https://wuwa-api.projektcode.com data:; style-src 'self'; script-src 'none'">
    <link rel="stylesheet" href="../css/base.css">
    <link rel="stylesheet" href="../css/docs.css">
</head>

<body>
    <div class="docs-wrapper">
        <aside>
            <a href="../index.html" class="brand">Wuwa<span>API</span> Docs</a>
            <div class="nav-list">
                <div class="nav-group">
                    <div class="nav-title">General</div>
                    <a href="#intro" class="nav-item">Introduction</a>
                    <a href="../showcase/" class="nav-item">Showcase</a>
                    <a href="#limits" class="nav-item">Rate Limits &amp; Cache</a>
                    <a href="#meta" class="nav-item">Metadata</a>
                </div>
                <div class="nav-group">
                    <div class="nav-title">Resources</div>
                    <a href="#characters" class="nav-item">Characters</a>
                    <a href="#images" class="nav-item">Images</a>
                    <a href="#weapons" class="nav-item">Weapons</a>
                </div>
                <div class="nav-group">
                    <div class="nav-title">Links</div>
                    <a href="https://wuwa-api.projektcode.com/docs" class="nav-item" target="_blank"
                        rel="noopener noreferrer">Swagger UI ↗</a>
                    <a href="https://github.com/ProjektCode/wuwa-api" class="nav-item" target="_blank"
                        rel="noopener noreferrer">GitHub ↗</a>
                </div>
            </div>
        </aside>

        <main>
            <section id="intro">
                <h1>Introduction</h1>
                <p>Welcome to the WuwaAPI documentation. This API provides data for characters, weapons, and more from
                    Wuthering Waves.</p>
                <div class="note">
                    <p><strong>Base URL:</strong> <code>https://wuwa-api.projektcode.com</code></p>
                </div>
                <p>All endpoints (except health check) are prefixed with <code>/v1</code>.</p>
                <p>Powered by OpenCode + GPT-5.2.</p>
            </section>

            <section id="limits">
                <h2>Rate Limits &amp; Caching</h2>
                <p>Rate limits are enforced per IP address (defaults shown below).</p>
                <table>
                    <thead>
                        <tr>
                            <th>Type</th>
                            <th>Limit</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>List Endpoints</td>
                            <td>15 requests / min</td>
                        </tr>
                        <tr>
                            <td>Detail Endpoints</td>
                            <td>60 requests / min</td>
                        </tr>
                        <tr>
                            <td>Images</td>
                            <td>60 requests / min</td>
                        </tr>
                        <tr>
                            <td>Docs (Swagger UI)</td>
                            <td>120 requests / min</td>
                        </tr>
                    </tbody>
                </table>
                <p>Self-hosting: configure via <code>RATE_LIMIT_LIST_MAX</code>, <code>RATE_LIMIT_DETAIL_MAX</code>,
                    <code>RATE_LIMIT_IMAGE_MAX</code>, <code>RATE_LIMIT_DOCS_MAX</code>, and
                    <code>RATE_LIMIT_WINDOW</code>.
                </p>
                <p><strong>Recommendation:</strong> keep a separate (higher) limit for <code>/docs</code> so humans
                    browsing Swagger don't compete with API consumers.</p>

                <h3>Caching</h3>
                <p>Responses include <code>ETag</code> headers. Please respect <code>Cache-Control</code> directives:
                </p>
                <ul>
                    <li><strong>JSON Data:</strong> <code>public, max-age=300</code> (5 minutes)</li>
                    <li><strong>Images:</strong> <code>public, max-age=31536000, immutable</code> (1 year)</li>
                </ul>
            </section>

            <section id="meta">
                <h2>Metadata</h2>
                <div class="endpoint">
                    <div class="endpoint-header">
                        <span class="method get">GET</span>
                        <span class="path">/healthz</span>
                    </div>
                    <div class="endpoint-body">
                        <p>Health check endpoint. Returns 200 OK if service is up.</p>
                    </div>
                </div>
                <div class="endpoint">
                    <div class="endpoint-header">
                        <span class="method get">GET</span>
                        <span class="path">/v1/meta</span>
                    </div>
                    <div class="endpoint-body">
                        <p>Get server metadata and version info.</p>
                    </div>
                </div>
            </section>

            <section id="characters">
                <h2>Characters</h2>

                <div class="endpoint">
                    <div class="endpoint-header">
                        <span class="method get">GET</span>
                        <span class="path">/v1/characters</span>
                    </div>
                    <div class="endpoint-body">
                        <p>List all characters with pagination and filtering.</p>
                        <h4>Query Parameters</h4>
                        <table>
                            <thead>
                                <tr>
                                    <th>Param</th>
                                    <th>Description</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>search</td>
                                    <td>Filter by name (fuzzy match)</td>
                                </tr>
                                <tr>
                                    <td>element</td>
                                    <td>Filter by element (e.g. Glacio)</td>
                                </tr>
                                <tr>
                                    <td>weaponType</td>
                                    <td>Filter by weapon type</td>
                                </tr>
                                <tr>
                                    <td>rarity</td>
                                    <td>Filter by star rating (4 or 5)</td>
                                </tr>
                                <tr>
                                    <td>limit</td>
                                    <td>Max results (default 20)</td>
                                </tr>
                                <tr>
                                    <td>offset</td>
                                    <td>Pagination offset</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <div class="endpoint">
                    <div class="endpoint-header">
                        <span class="method get">GET</span>
                        <span class="path">/v1/characters/:id</span>
                    </div>
                    <div class="endpoint-body">
                        <p>Get detailed info for a single character.</p>
                        <p><strong>:id</strong> can be the character name (case-insensitive, e.g. <code>jinhsi</code>).
                        </p>
                        <pre><code>{
  "name": "Jinhsi",
  "rarity": 5,
  "element": "Spectro",
  "weaponType": "Broadblade",
  "stats": { ... },
  "images": { ... }
}</code></pre>
                    </div>
                </div>
            </section>

            <section id="images">
                <h2>Images</h2>
                <div class="endpoint">
                    <div class="endpoint-header">
                        <span class="method get">GET</span>
                        <span class="path">/v1/characters/:id/images</span>
                    </div>
                    <div class="endpoint-body">
                        <p>List available image files for a character.</p>
                        <pre><code>curl "https://wuwa-api.projektcode.com/v1/characters/jinhsi/images"</code></pre>
                        <p>The response includes URLs like <code>/v1/characters/jinhsi/images/icon.webp</code>.</p>
                    </div>
                </div>
                <div class="endpoint">
                    <div class="endpoint-header">
                        <span class="method get">GET</span>
                        <span class="path">/v1/characters/:id/images/:file</span>
                    </div>
                    <div class="endpoint-body">
                        <p>Serve a raw image file.</p>
                        <p><strong>:file</strong> must match one of the filenames returned by
                            <code>/v1/characters/:id/images</code> (including extension, e.g. <code>icon.webp</code>).
                        </p>
                        <div class="note">
                            <p>These responses are immutable and cached for 1 year.</p>
                        </div>
                    </div>
                </div>

                <div class="endpoint">
                    <div class="endpoint-header">
                        <span class="method get">GET</span>
                        <span class="path">/v1/images/characters/:id/:asset.webp</span>
                    </div>
                    <div class="endpoint-body">
                        <p>Static image URLs referenced by the JSON payloads (e.g. <code>icon.webp</code>,
                            <code>card.webp</code>, <code>splash.webp</code>, <code>attribute.webp</code>).
                        </p>
                        <pre><code>curl -I "https://wuwa-api.projektcode.com/v1/images/characters/jinhsi/icon.webp"</code></pre>
                    </div>
                </div>
            </section>

            <section id="weapons">
                <h2>Weapons</h2>
                <div class="endpoint">
                    <div class="endpoint-header">
                        <span class="method get">GET</span>
                        <span class="path">/v1/weapons</span>
                    </div>
                    <div class="endpoint-body">
                        <p>List all weapons.</p>
                        <h4>Query Parameters</h4>
                        <table>
                            <thead>
                                <tr>
                                    <th>Param</th>
                                    <th>Description</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>search</td>
                                    <td>Filter by name</td>
                                </tr>
                                <tr>
                                    <td>type</td>
                                    <td>Filter by weapon type (e.g. Sword)</td>
                                </tr>
                                <tr>
                                    <td>rarity</td>
                                    <td>Filter by star rating</td>
                                </tr>
                                <tr>
                                    <td>limit</td>
                                    <td>Max results</td>
                                </tr>
                                <tr>
                                    <td>offset</td>
                                    <td>Pagination offset</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
                <div class="endpoint">
                    <div class="endpoint-header">
                        <span class="method get">GET</span>
                        <span class="path">/v1/weapons/:id</span>
                    </div>
                    <div class="endpoint-body">
                        <p>Get detailed info for a single weapon.</p>
                    </div>
                </div>
            </section>

        </main>
    </div>

    <footer>
        <div class="footer-links">
            <a href="./">Docs</a>
            <a href="../showcase/">Showcase</a>
            <a href="https://wuwa-api.projektcode.com/docs" target="_blank" rel="noopener noreferrer">Swagger</a>
            <a href="https://github.com/ProjektCode/wuwa-api" target="_blank" rel="noopener noreferrer">API Repo</a>
            <a href="https://github.com/ProjektCode/wuwa-site" target="_blank" rel="noopener noreferrer">Site Repo</a>
        </div>
        <p>&copy; 2026 WuwaAPI. Not affiliated with Kuro Games. Powered by OpenCode + GPT-5.2.</p>
    </footer>

</body>

</html>